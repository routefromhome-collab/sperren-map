<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a99a8dc66b3f9fa40f7a44146b344181 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.66.2/L.Control.Locate.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.66.2/L.Control.Locate.min.css"/>
</head>
<body>
    
    
            <div class="folium-map" id="map_a99a8dc66b3f9fa40f7a44146b344181" ></div>
        

        <script>
        document.addEventListener("DOMContentLoaded", function() {
            window.MAP = map_a99a8dc66b3f9fa40f7a44146b344181;
            var STREETS = [{"name": "Auf dem Johannisberg", "coords": [[51.252256, 7.142178], [51.252346, 7.1424412], [51.2523686, 7.1424529], [51.2523789, 7.1424043], [51.2524235, 7.1423658], [51.2524343, 7.1423566], [51.2525787, 7.142232], [51.2525982, 7.1422152], [51.2527155, 7.142114], [51.2528764, 7.1419753], [51.2529738, 7.1418913], [51.2528737, 7.1416014], [51.2528535, 7.14158], [51.2528353, 7.1415853], [51.2527728, 7.1416378], [51.252752, 7.1416331], [51.2527379, 7.1416185], [51.2527152, 7.1415558], [51.2526971, 7.1415359], [51.2526742, 7.1415417], [51.2523845, 7.1417947], [51.2523646, 7.1417908], [51.2523787, 7.1416998], [51.2522549, 7.1413413], [51.2522361, 7.1413322], [51.2522288, 7.1413654], [51.2522174, 7.1413808], [51.2521992, 7.1413287], [51.2522174, 7.1412355], [51.2521953, 7.1412251], [51.2521901, 7.141253], [51.2521778, 7.1412672], [51.2521658, 7.141235], [51.2521839, 7.1411343], [51.252162, 7.1411232], [51.2521643, 7.141112], [51.2521423, 7.1411013], [51.2521439, 7.141089], [51.2521228, 7.1410813], [51.2521137, 7.1411299], [51.2521114, 7.1411355], [51.2521082, 7.1411396], [51.2521033, 7.1411389], [51.2520996, 7.141136], [51.2520275, 7.141246], [51.2519959, 7.1414172], [51.2521844, 7.1419688], [51.2522065, 7.1420334], [51.2522212, 7.1419609], [51.2522293, 7.1419548], [51.2522363, 7.1419615], [51.2522749, 7.1420742], [51.2522759, 7.1420859], [51.252256, 7.142178]], "mid": [51.2521992, 7.1413287]}, {"name": "Flensburger Str", "coords": [[51.264855700000005, 7.1488867], [51.2655557, 7.1495867]], "mid": [51.2652057, 7.1492367]}, {"name": "Holsteiner Str", "coords": [[51.2647162, 7.14809], [51.2654162, 7.14879]], "mid": [51.2650662, 7.14844]}, {"name": "Kieler Str", "coords": [[51.2662008, 7.1508302], [51.266900799999995, 7.1515302]], "mid": [51.2665508, 7.1511802]}, {"name": "Kleeblatt", "coords": [[51.2492954, 7.1496485], [51.2494037, 7.149565], [51.249439, 7.1495374], [51.2495656, 7.1494484]], "mid": [51.249439, 7.1495374]}, {"name": "Marienstr", "coords": [[51.2590157, 7.1367077], [51.259715699999994, 7.1374077]], "mid": [51.2593657, 7.1370577]}, {"name": "Schleswiger Str", "coords": [[51.2660434, 7.1483234], [51.266743399999996, 7.1490234]], "mid": [51.2663934, 7.1486734]}, {"name": "S\u00fcdstr", "coords": [[51.2529265, 7.1393535], [51.253626499999996, 7.1400535000000005]], "mid": [51.2532765, 7.1397035]}, {"name": "Weststr", "coords": [[51.250323, 7.1468219], [51.251022999999996, 7.1475219]], "mid": [51.250673, 7.1471719]}, {"name": "Wiesenstr", "coords": [[51.2649181, 7.1371258], [51.2656181, 7.1378258]], "mid": [51.2652681, 7.1374758]}];

            function meterDist(a,b){
                var R = 6371000;
                var lat1=a[0]*Math.PI/180, lat2=b[0]*Math.PI/180;
                var dLat=(b[0]-a[0])*Math.PI/180, dLon=(b[1]-a[1])*Math.PI/180;
                var s=Math.sin(dLat/2)**2 + Math.cos(lat1)*Math.cos(lat2)*Math.sin(dLon/2)**2;
                return 2*R*Math.atan2(Math.sqrt(s), Math.sqrt(1-s));
            }

            function showNearestStreet() {
                if(!navigator.geolocation) return alert("Геолокация не поддерживается");
                navigator.geolocation.getCurrentPosition(function(pos){
                    var user=[pos.coords.latitude, pos.coords.longitude];
                    var best=null, bestDist=Infinity;

                    STREETS.forEach(s => {
                        if(!s.mid) return;
                        var d=meterDist(user, s.mid);
                        if(d<bestDist) { bestDist=d; best=s; }
                    });

                    if(!best) return alert("Не удалось найти ближайшую улицу");

                    // ✅ Время пешком
                    var walkTimeSec = bestDist / 1.4;
                    var walkMin = Math.max(1, Math.round(walkTimeSec / 60));

                    L.marker(best.mid).addTo(MAP).bindPopup(
                        "Улица: <b>"+best.name+
                        "</b><br>Расстояние: "+Math.round(bestDist)+" м"+
                        "<br>Пешком примерно: "+walkMin+" мин."
                    ).openPopup();

                    L.circleMarker(user, {radius:6,color:'#000',fillColor:'#fff',weight:2}).addTo(MAP).bindPopup("Вы здесь");
                    MAP.flyTo(best.mid, 16);
                }, err => alert("Ошибка геопозиции: "+err.message), {enableHighAccuracy:true});
            }

            var b=document.createElement("button");
            b.textContent="Показать ближайшую улицу ко мне";
            b.style.position="absolute"; b.style.top="10px"; b.style.left="50%";
            b.style.transform="translateX(-50%)";
            b.style.zIndex=999999; b.style.padding="8px 12px";
            b.style.background="white"; b.style.border="1px solid #666";
            b.style.borderRadius="6px";
            b.onclick=showNearestStreet;
            document.body.appendChild(b);
        });
        </script>
        </body>
        
<script>
    
    
            var map_a99a8dc66b3f9fa40f7a44146b344181 = L.map(
                "map_a99a8dc66b3f9fa40f7a44146b344181",
                {
                    center: [51.2562, 7.1508],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 12,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_714b485ef1513c24a2120664ff649d06 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_714b485ef1513c24a2120664ff649d06.addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
            var marker_1c46242f3ad189756694c5801f7fc34b = L.marker(
                [51.2665508, 7.1511802],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_ec93dd928a4165f092ecee10e77200f4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8509552d60a71960c7d62d73ef1c29a2 = $(`<div id="html_8509552d60a71960c7d62d73ef1c29a2" style="width: 100.0%; height: 100.0%;">Kieler Str</div>`)[0];
                popup_ec93dd928a4165f092ecee10e77200f4.setContent(html_8509552d60a71960c7d62d73ef1c29a2);
            
        

        marker_1c46242f3ad189756694c5801f7fc34b.bindPopup(popup_ec93dd928a4165f092ecee10e77200f4)
        ;

        
    
    
            var marker_67aa4d34b88ba1a63e10bb798f37458c = L.marker(
                [51.250673, 7.1471719],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_c9d13a565d4753ea7a88ac68a427ea71 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_890979872275257553b41f0162fef655 = $(`<div id="html_890979872275257553b41f0162fef655" style="width: 100.0%; height: 100.0%;">Weststr</div>`)[0];
                popup_c9d13a565d4753ea7a88ac68a427ea71.setContent(html_890979872275257553b41f0162fef655);
            
        

        marker_67aa4d34b88ba1a63e10bb798f37458c.bindPopup(popup_c9d13a565d4753ea7a88ac68a427ea71)
        ;

        
    
    
            var marker_3f3860669640f37b0eb9fa09555d35a6 = L.marker(
                [51.2530666, 7.1451499],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_362378b95000aae1a643809a0412daf7 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_60c592dec7976233362b8c3535d7c555 = $(`<div id="html_60c592dec7976233362b8c3535d7c555" style="width: 100.0%; height: 100.0%;">Kleeblatt</div>`)[0];
                popup_362378b95000aae1a643809a0412daf7.setContent(html_60c592dec7976233362b8c3535d7c555);
            
        

        marker_3f3860669640f37b0eb9fa09555d35a6.bindPopup(popup_362378b95000aae1a643809a0412daf7)
        ;

        
    
    
            var marker_16d88d235c9c378ab8849e37977fe0f3 = L.marker(
                [51.2652681, 7.1374758],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_6ab8c7b18a5a44c5ec7e2a6923af6d1e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_aa18cbfebb1c25e897a4b41a34610eea = $(`<div id="html_aa18cbfebb1c25e897a4b41a34610eea" style="width: 100.0%; height: 100.0%;">Wiesenstr</div>`)[0];
                popup_6ab8c7b18a5a44c5ec7e2a6923af6d1e.setContent(html_aa18cbfebb1c25e897a4b41a34610eea);
            
        

        marker_16d88d235c9c378ab8849e37977fe0f3.bindPopup(popup_6ab8c7b18a5a44c5ec7e2a6923af6d1e)
        ;

        
    
    
            var marker_0677f9ff4b5bc2280cddd208ece99dff = L.marker(
                [51.2593657, 7.1370577],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_9b204f8a0ac05447207df10832d4e122 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_83db75cb7e5d946768066a72a89ac81e = $(`<div id="html_83db75cb7e5d946768066a72a89ac81e" style="width: 100.0%; height: 100.0%;">Marienstr</div>`)[0];
                popup_9b204f8a0ac05447207df10832d4e122.setContent(html_83db75cb7e5d946768066a72a89ac81e);
            
        

        marker_0677f9ff4b5bc2280cddd208ece99dff.bindPopup(popup_9b204f8a0ac05447207df10832d4e122)
        ;

        
    
    
            var marker_996814a56de4c72cd6f4792f96218ddb = L.marker(
                [51.2527569, 7.1422081],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_3d0f3785ee717a04e0b9a6c1deea84ff = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_ceec590aa4e12ebc4a1990443ddd29b7 = $(`<div id="html_ceec590aa4e12ebc4a1990443ddd29b7" style="width: 100.0%; height: 100.0%;">Auf dem Johannisberg</div>`)[0];
                popup_3d0f3785ee717a04e0b9a6c1deea84ff.setContent(html_ceec590aa4e12ebc4a1990443ddd29b7);
            
        

        marker_996814a56de4c72cd6f4792f96218ddb.bindPopup(popup_3d0f3785ee717a04e0b9a6c1deea84ff)
        ;

        
    
    
            var marker_18a5290b40b96a9a6fa466111105062b = L.marker(
                [51.2663934, 7.1486734],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_16884e27ce105542300eb4cf2dc0727e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_ffdf456e5a99c26cfead0199be88c35d = $(`<div id="html_ffdf456e5a99c26cfead0199be88c35d" style="width: 100.0%; height: 100.0%;">Schleswiger Str</div>`)[0];
                popup_16884e27ce105542300eb4cf2dc0727e.setContent(html_ffdf456e5a99c26cfead0199be88c35d);
            
        

        marker_18a5290b40b96a9a6fa466111105062b.bindPopup(popup_16884e27ce105542300eb4cf2dc0727e)
        ;

        
    
    
            var marker_24ca0773ca509d27096c8873b6b3a4aa = L.marker(
                [51.2652057, 7.1492367],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_54b500c2ea424e5f86643a503e226eb0 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_e6585ca5a8bdfbc8cf86d1dc874bee99 = $(`<div id="html_e6585ca5a8bdfbc8cf86d1dc874bee99" style="width: 100.0%; height: 100.0%;">Flensburger Str</div>`)[0];
                popup_54b500c2ea424e5f86643a503e226eb0.setContent(html_e6585ca5a8bdfbc8cf86d1dc874bee99);
            
        

        marker_24ca0773ca509d27096c8873b6b3a4aa.bindPopup(popup_54b500c2ea424e5f86643a503e226eb0)
        ;

        
    
    
            var marker_eb95173cb126dc649309f6b229958757 = L.marker(
                [51.2532765, 7.1397035],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_282745a9cbe80c2a89c01fa07e0e36b5 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_a3b382774e4e5ce78eebe9404c662022 = $(`<div id="html_a3b382774e4e5ce78eebe9404c662022" style="width: 100.0%; height: 100.0%;">Südstr</div>`)[0];
                popup_282745a9cbe80c2a89c01fa07e0e36b5.setContent(html_a3b382774e4e5ce78eebe9404c662022);
            
        

        marker_eb95173cb126dc649309f6b229958757.bindPopup(popup_282745a9cbe80c2a89c01fa07e0e36b5)
        ;

        
    
    
            var marker_0146c128a7c80864b38c55f68863fe0c = L.marker(
                [51.2532765, 7.1397035],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_65eef48c07566e9101da54624c843a17 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_3e39c727df3d213987268cdfad2bd6c1 = $(`<div id="html_3e39c727df3d213987268cdfad2bd6c1" style="width: 100.0%; height: 100.0%;">Südstr</div>`)[0];
                popup_65eef48c07566e9101da54624c843a17.setContent(html_3e39c727df3d213987268cdfad2bd6c1);
            
        

        marker_0146c128a7c80864b38c55f68863fe0c.bindPopup(popup_65eef48c07566e9101da54624c843a17)
        ;

        
    
    
            var marker_00b1a54881daf5c6a497a20faf5cc7d1 = L.marker(
                [51.2532765, 7.1397035],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_1dc27c32058d439b873637d0607bf268 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_3093e304a2aeac7c9e21203aac72c91d = $(`<div id="html_3093e304a2aeac7c9e21203aac72c91d" style="width: 100.0%; height: 100.0%;">Südstr</div>`)[0];
                popup_1dc27c32058d439b873637d0607bf268.setContent(html_3093e304a2aeac7c9e21203aac72c91d);
            
        

        marker_00b1a54881daf5c6a497a20faf5cc7d1.bindPopup(popup_1dc27c32058d439b873637d0607bf268)
        ;

        
    
    
            var marker_09579ed876177fd9b4b2092bbd682e2e = L.marker(
                [51.2650662, 7.14844],
                {
}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
        
    
        var popup_4d56008dded99a0bc1139183aae4f9db = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_f2ba59cbf0d5ff8cc952bb9fd8cee54e = $(`<div id="html_f2ba59cbf0d5ff8cc952bb9fd8cee54e" style="width: 100.0%; height: 100.0%;">Holsteiner Str</div>`)[0];
                popup_4d56008dded99a0bc1139183aae4f9db.setContent(html_f2ba59cbf0d5ff8cc952bb9fd8cee54e);
            
        

        marker_09579ed876177fd9b4b2092bbd682e2e.bindPopup(popup_4d56008dded99a0bc1139183aae4f9db)
        ;

        
    
    
            map_a99a8dc66b3f9fa40f7a44146b344181.fitBounds(
                [[51.2665508, 7.1511802], [51.250673, 7.1471719], [51.2530666, 7.1451499], [51.2652681, 7.1374758], [51.2593657, 7.1370577], [51.2527569, 7.1422081], [51.2663934, 7.1486734], [51.2652057, 7.1492367], [51.2532765, 7.1397035], [51.2532765, 7.1397035], [51.2532765, 7.1397035], [51.2650662, 7.14844]],
                {}
            );
        
    
            var locate_control_9eec23de01277bec545b27411eee1447 = L.control.locate(
                {}
            ).addTo(map_a99a8dc66b3f9fa40f7a44146b344181);
            
        
</script>
</html>